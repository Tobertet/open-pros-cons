(this["webpackJsonpopen-pros-cons"]=this["webpackJsonpopen-pros-cons"]||[]).push([[1],{65:function(e,t,n){var o={"./ion-action-sheet.entry.js":[92,5],"./ion-alert.entry.js":[93,6],"./ion-app_8.entry.js":[94,7],"./ion-avatar_3.entry.js":[95,17],"./ion-back-button.entry.js":[96,18],"./ion-backdrop.entry.js":[97,44],"./ion-button_2.entry.js":[98,19],"./ion-card_5.entry.js":[99,20],"./ion-checkbox.entry.js":[100,21],"./ion-chip.entry.js":[101,22],"./ion-col_3.entry.js":[102,45],"./ion-datetime_3.entry.js":[103,10],"./ion-fab_3.entry.js":[104,23],"./ion-img.entry.js":[105,46],"./ion-infinite-scroll_2.entry.js":[106,47],"./ion-input.entry.js":[107,24],"./ion-item-option_3.entry.js":[108,25],"./ion-item_8.entry.js":[109,26],"./ion-loading.entry.js":[110,27],"./ion-menu_3.entry.js":[111,28],"./ion-modal.entry.js":[112,8],"./ion-nav_2.entry.js":[113,14],"./ion-popover.entry.js":[114,9],"./ion-progress-bar.entry.js":[115,29],"./ion-radio_2.entry.js":[116,30],"./ion-range.entry.js":[117,31],"./ion-refresher_2.entry.js":[118,11],"./ion-reorder_2.entry.js":[119,16],"./ion-ripple-effect.entry.js":[120,48],"./ion-route_4.entry.js":[121,32],"./ion-searchbar.entry.js":[122,33],"./ion-segment_2.entry.js":[123,34],"./ion-select_3.entry.js":[124,35],"./ion-slide_2.entry.js":[125,49],"./ion-spinner.entry.js":[126,13],"./ion-split-pane.entry.js":[127,50],"./ion-tab-bar_2.entry.js":[128,36],"./ion-tab_2.entry.js":[129,15],"./ion-text.entry.js":[130,37],"./ion-textarea.entry.js":[131,38],"./ion-toast.entry.js":[132,39],"./ion-toggle.entry.js":[133,12],"./ion-virtual-scroll.entry.js":[134,51]};function s(e){if(!n.o(o,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=o[e],s=t[0];return n.e(t[1]).then((function(){return n(s)}))}s.keys=function(){return Object.keys(o)},s.id=65,e.exports=s},67:function(e,t,n){var o={"./ion-icon.entry.js":[135,58]};function s(e){if(!n.o(o,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=o[e],s=t[0];return n.e(t[1]).then((function(){return n(s)}))}s.keys=function(){return Object.keys(o)},s.id=67,e.exports=s},68:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},87:function(e,t,n){},88:function(e,t,n){},89:function(e,t,n){},90:function(e,t,n){"use strict";n.r(t);var o=n(0),s=n.n(o),r=n(31),i=n.n(r),c=n(4),a=n(13),d=n(3),l=n.n(d),j=n(16),u=n(7),b=n(21),O=n(38),f=(n(68),n(2)),p=function(e){var t=e.onCreate,n=e.reason,o=e.onEdit,s=Object(O.b)({mode:"onChange",defaultValues:{reasonText:null===n||void 0===n?void 0:n.text}}),r=s.handleSubmit,i=s.control,a=Object(O.c)({control:i}).errors;return Object(f.jsxs)("form",{onSubmit:r((function(e){n?o({text:e.reasonText,id:n.id}):t(e.reasonText)})),className:"add-reason-form",children:[Object(f.jsxs)(c.l,{children:[Object(f.jsx)(c.m,{position:"floating",children:"Reason"}),Object(f.jsx)(O.a,{control:i,name:"reasonText",render:function(e){var t=e.field,n=t.onChange,o=t.value;return Object(f.jsx)(c.k,{type:"text",autocapitalize:"sentences","data-testid":"new-reason-form-text-area",onIonChange:function(e){return n(e.detail.value)},value:o})},rules:{required:{value:!0,message:"This field cannot be empty."}}})]}),function(e){var t;return a[e]&&Object(f.jsx)(c.v,{"data-testid":"form-error-message-text",style:{color:"red",padding:5,paddingLeft:12,fontSize:"smaller",marginTop:0,display:"block"},children:null===(t=a[e])||void 0===t?void 0:t.message})}("reasonText"),Object(f.jsx)(c.d,{"data-testid":"new-reason-form-submit",className:"submit-button",type:"submit",children:"Save"})]})},h=(n(70),n(17)),x=function(e){var t=e.title,n=e.reasons,s=e.onAddReason,r=e.onMoveReason,i=e.onDeleteReason,a=e.onEditReason,d=Object(o.useState)(!1),l=Object(b.a)(d,2),j=l[0],u=l[1],O=Object(o.useState)(),x=Object(b.a)(O,2),m=x[0],y=x[1];return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)(c.n,{"data-testid":"reasons-list",class:"reasons-list",children:[Object(f.jsx)(c.o,{class:"ion-no-padding",children:Object(f.jsxs)(c.l,{class:"reason-list-header",children:[Object(f.jsx)(c.m,{children:t}),Object(f.jsx)(c.c,{slot:"end","data-testid":"reasons-count",children:n.length})]})}),Object(f.jsx)(c.s,{disabled:!1,onIonItemReorder:function(e){e.detail.complete(),r(e.detail.from,e.detail.to)},children:n.map((function(e,t){return Object(f.jsx)(c.f,{"data-testid":"reason",className:"reason",onClick:function(){y(e)},children:Object(f.jsxs)(c.g,{style:{display:"flex",alignItems:"center"},children:[Object(f.jsx)(c.r,{style:{cursor:"pointer"}}),Object(f.jsx)(c.v,{style:{width:"100%"},children:e.text}),Object(f.jsx)(c.d,{size:"small",color:"danger","data-testid":"delete-button",onClick:function(t){t.stopPropagation(),i(e)},children:Object(f.jsx)(c.j,{icon:h.q})})]})},e.id)}))})]}),Object(f.jsx)(c.d,{"data-testid":"add-reason-button",class:"add-reason-button",shape:"round",onClick:function(){u(!0)},children:"+"}),Object(f.jsx)(c.p,{isOpen:j||!!m,"data-testid":"new-reason-modal",backdropDismiss:!1,children:Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(c.i,{children:Object(f.jsxs)(c.x,{children:[Object(f.jsx)(c.w,{children:"Reason detail"}),Object(f.jsx)(c.e,{slot:"end",children:Object(f.jsx)(c.d,{"data-testid":"new-reason-modal-close-button",onClick:function(){u(!1),y(void 0)},children:"Close"})})]})}),Object(f.jsx)(c.h,{children:Object(f.jsx)(p,{onCreate:function(e){u(!1),s({text:e,id:n.reduce((function(e,t){return e.id>t.id?e:t}),{id:0}).id+1})},reason:m,onEdit:function(e){y(void 0),a(e)}})})]})})]})},m=(n(71),n(18)),y=n(43),v=n(53),g=n.n(v),C=Object(o.createContext)({lists:void 0,create:function(){throw new Error("ProsAndConsContext has not been initialized yet")},remove:function(e){throw new Error("ProsAndConsContext has not been initialized yet")},update:function(e){throw new Error("ProsAndConsContext has not been initialized yet")}}),w=function(e){var t=e.children,n=Object(o.useState)(),s=Object(b.a)(n,2),r=s[0],i=s[1];Object(o.useEffect)((function(){void 0!==r&&y.a.set({key:"prosAndConsLists",value:JSON.stringify(r)})}),[r]),Object(o.useEffect)((function(){y.a.get({key:"prosAndConsLists"}).then((function(e){e.value?i(JSON.parse(e.value)):i([])}))}),[]);return Object(f.jsx)(C.Provider,{value:{lists:r,create:function(){var e={pros:[],cons:[],name:"New Pros & Cons list",lastEditionDate:g()().format(),id:r.reduce((function(e,t){return e.id>t.id?e:t}),{id:0}).id+1};return i((function(t){return[].concat(Object(a.a)(t),[e])})),e},update:function(e){i((function(t){return t.map((function(t){return t.id===e.id?Object(j.a)({},e):t}))}))},remove:function(e){i((function(t){return t.filter((function(t){return t.id!==e}))}))}},children:t})},k=function(){return Object(o.useContext)(C)},_=n(9),E=function(e){var t=e.match,n=Object(o.useState)(),s=Object(b.a)(n,2),r=s[0],i=s[1],d=Object(m.e)(),O=k(),p=O.lists,y=O.remove,v=O.update;return Object(o.useEffect)((function(){if(t&&p&&i){var e=p.find((function(e){return e.id===parseInt(t.params.id)}));e?i(e):d.replace("/open-pros-cons")}}),[p,t,r,i,d]),Object(f.jsxs)(c.q,{id:"home-page",children:[Object(f.jsx)(c.i,{children:Object(f.jsxs)(c.x,{children:[Object(f.jsx)(c.e,{slot:"start",children:Object(f.jsx)(c.b,{defaultHref:"/open-pros-cons"})}),Object(f.jsx)(c.w,{"data-testid":"header-title",children:null===r||void 0===r?void 0:r.name}),Object(f.jsxs)(c.e,{slot:"end",children:[Object(f.jsx)(c.d,{"data-testid":"edit-button",onClick:Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.b.create({header:"Change title",message:"Set the new title for your pros & cons list",cssClass:"edit-alert",inputs:[{name:"title",type:"text",placeholder:"Title",label:"Title",cssClass:"edit-input",value:null===r||void 0===r?void 0:r.name}],buttons:[{text:"Cancel",role:"cancel"},{text:"Ok",handler:function(e){e.title&&v(Object(j.a)(Object(j.a)({},r),{},{name:e.title}))}}]});case 2:e.sent.present();case 4:case"end":return e.stop()}}),e)}))),children:Object(f.jsx)(c.j,{slot:"icon-only",icon:h.k})}),Object(f.jsx)(c.d,{"data-testid":"delete-button",onClick:Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.b.create({header:"Delete list",message:"Are you sure you want to delete the current list?",cssClass:"delete-alert",buttons:[{text:"Cancel",role:"cancel"},{text:"Ok",handler:function(){d.replace("/open-pros-cons"),y(parseInt(t.params.id))}}]});case 2:e.sent.present();case 4:case"end":return e.stop()}}),e)}))),children:Object(f.jsx)(c.j,{slot:"icon-only",icon:h.p})})]})]})}),Object(f.jsx)(c.h,{fullscreen:!0,children:r&&Object(f.jsxs)("div",{className:"pros-and-cons-grid",children:[Object(f.jsx)("div",{className:"pros-list","data-testid":"pros-list",children:Object(f.jsx)(x,{title:"Pros",reasons:r.pros,onAddReason:function(e){v(Object(j.a)(Object(j.a)({},r),{},{pros:[].concat(Object(a.a)(r.pros),[e])}))},onMoveReason:function(e,t){var n=Object(a.a)(r.pros),o=n.splice(e,1)[0];n.splice(t,0,o),v(Object(j.a)(Object(j.a)({},r),{},{pros:n}))},onDeleteReason:function(e){v(Object(j.a)(Object(j.a)({},r),{},{pros:r.pros.filter((function(t){return t.id!==e.id}))}))},onEditReason:function(e){v(Object(j.a)(Object(j.a)({},r),{},{pros:r.pros.map((function(t){return t.id===e.id?Object(j.a)({},e):t}))}))}})}),Object(f.jsx)("div",{className:"cons-list","data-testid":"cons-list",children:Object(f.jsx)(x,{title:"Cons",reasons:r.cons,onAddReason:function(e){v(Object(j.a)(Object(j.a)({},r),{},{cons:[].concat(Object(a.a)(r.cons),[e])}))},onMoveReason:function(e,t){var n=Object(a.a)(r.cons),o=n.splice(e,1)[0];n.splice(t,0,o),v(Object(j.a)(Object(j.a)({},r),{},{cons:n}))},onDeleteReason:function(e){v(Object(j.a)(Object(j.a)({},r),{},{cons:r.cons.filter((function(t){return t.id!==e.id}))}))},onEditReason:function(e){v(Object(j.a)(Object(j.a)({},r),{},{cons:r.cons.map((function(t){return t.id===e.id?Object(j.a)({},e):t}))}))}})})]})})]})},R=(n(77),n(78),n(79),n(80),n(81),n(82),n(83),n(84),n(85),n(86),n(87),n(88),n(89),function(){var e=k(),t=e.lists,n=e.create,o=Object(m.e)();return Object(f.jsxs)(c.q,{children:[Object(f.jsx)(c.i,{children:Object(f.jsxs)(c.x,{children:[Object(f.jsx)(c.w,{children:"Open Pros & Cons"}),Object(f.jsx)(c.e,{slot:"end",children:t&&Object(f.jsx)(c.d,{onClick:n,"data-testid":"create-button",children:Object(f.jsx)(c.j,{slot:"icon-only",icon:h.a})})})]})}),Object(f.jsx)(c.h,{fullscreen:!0,id:"content","data-testid":"pros-cons-table",children:null===t||void 0===t?void 0:t.map((function(e){return Object(f.jsx)(c.f,{className:"list-item","data-testid":"pros-cons-list-item",onClick:function(){o.push("/open-pros-cons/".concat(e.id))},children:Object(f.jsx)(c.g,{style:{display:"flex",alignItems:"center"},children:Object(f.jsx)(c.v,{style:{width:"100%"},children:e.name})})},e.id)}))})]})}),N=n(56),S=function(){return Object(f.jsx)(c.a,{children:Object(f.jsx)(N.a,{children:Object(f.jsxs)(c.u,{children:[Object(f.jsx)(m.b,{path:"/",exact:!0,component:R}),Object(f.jsx)(m.b,{path:"/open-pros-cons",exact:!0,component:R}),Object(f.jsx)(m.b,{path:"/open-pros-cons/:id",component:E}),Object(f.jsx)(m.a,{to:"/open-pros-cons"})]})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var T=function(e){e&&e instanceof Function&&n.e(59).then(n.bind(null,154)).then((function(t){var n=t.getCLS,o=t.getFID,s=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),o(e),s(e),r(e),i(e)}))};i.a.render(Object(f.jsx)(s.a.StrictMode,{children:Object(f.jsx)(w,{children:Object(f.jsx)(S,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),T()}},[[90,3,4]]]);
//# sourceMappingURL=main.c944de4e.chunk.js.map